# Vulnerability Management Scanner

## Introduction

In this project, I build a vulnerability management scanner in Azure using OpenVAS.

![Vulnerability Scanner Lab Project](https://i.imgur.com/7w02m8ll.jpg)

## Create Vulnerability Management Scanner
Go to https://portal.azure.com → Go to the Marketplace → “OpenVAS secured and supported by HOSSTED”

“Start with a pre-set configuration” → Pick the weakest one
“Continue to Create VM”
- Resource Group Name: Vulnerability-Management
- VM Name: OpenVAS (Take note of the region and Vnet–I used East US 2)
- Authentication: Username / Password → azureuser / Cyberlab123!
- Monitoring: Disable Boot Diagnostic (don’t need it)
- "Review + Create" → Create
  
After the VM has been created, SSH into it with PowerShell (Windows) or Terminal (MacOS) using the credentials you created earlier: ssh azureuser@(Public IP address)
- Don’t touch anything, you’ll notice the “Your openvas is deploying, please wait”
![OpenVAS Deployment](https://i.imgur.com/sTEVgOZl.png)
- Wait until it says “hossted stage done”
- It should show the web app URL and default username and password at this point, attempt to go to the URL in the browser and login with the username and password. If it doesn’t work, try admin/admin:
![OpenVAS Deployed](https://i.imgur.com/1Maxh00l.png)
![Greenbone Sign In](https://i.imgur.com/Ir4GaMZl.jpg)
![Greenbone Home Screen](https://i.imgur.com/brI6aHQl.png)

- After you get logged in, reset the admin password from the original, to: Cyberlab123!
  
![Greenborne Change Password](https://i.imgur.com/T6woNIzl.png)

## Create Client Virtual Machine and Make it Vulnerable
Go to https://portal.azure.com/
- Search for Virtual Machines and create a new Virtual Machine
- Resource Group: Vulnerability-Management
- VM Name: Win10-Vulnerable
- Region: Same as the OpenVAS VM (East US 2)
- Virtual Network: Same as OpenVAS (this is important)
- Image: Windows 10 Pro
- Size: Any size with 2 vCPUs
- Username: azureuser / Cyberlab123!
- Networking: Same Vnet as OpenVAS

Create the VM
- After the VM has been created, ensure you can RDP into it with the credentials you created.
- After logging in, make the VM vulnerable:
- Disable the Windows Firewall
  
![Windows Defender Firewall Turned Off](https://i.imgur.com/8f2EeWZl.jpg)


  Old Software
- Install an Old Version of FireFox: Firefox Setup 97.0b5
- Install an Old Version of VLC Player: vlc-1.1.7-win32
- Install an Old Version of Adobe Reader: 10.0_AdbeRdr1000_en_US_1_

  Restart the VM  → Leave the VM for now

## Configure and OpenVAS to Perform First Unauthenticated Scan against our Vulnerable VM
Login to OpenVAS → Assets → Hosts → New Host
- Add the Client VM PRIVATE IP Address
- Create a New Target from the Host, name it “Azure Vulnerable VMs”.
- Take note of the credentials. We will add SMB credentials later.
- Create a new Task
- Name & Comment: “Scan - Azure Vulnerable VMs”
- Scan Targets → “Azure Vulnerable VMs”
- Save the Task
- “Start” the “Scan - Azure Vulnerable VMs” Task
- Take note of the Status:

Once the scan is finished, click the date under “Last Report” to see the results
- Take note of Tabs, specifically the “Results” tab. Even though we installed a super old version of Firefox, note that it does not show up here.
- Note that this is because we aren’t running a credentialed scan so the scanner could not discover it. We will configure credential scans next
